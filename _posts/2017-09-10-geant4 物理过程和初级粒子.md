---
layout: post
title:  "gent4 物理过程和初级粒子"
categories: geant4
tags:  geant4 模拟
author: loyxin
mathjax: true
---
* content
{:toc}

## Generation of a primary event

- Method GeneratePrimaries()
    - Randomize particle-by-particle value, if required
    - Set these values to the primary generator
    - Invoke GeneratePrimaryVertex() method of primary generator 提醒一下 `particleGun->GeneratePrimaryVertex(event)` 必须要写这个函数里面

- Constructor
    - Instantiate primary generator
    - (Optional, but advisable): set the default values for energy and Particle Definition 

## Physics list

- Method ConstructParticle() 构建粒子
- Method ConstructProcess() 构建过程
- Method SetCuts() 设置阈值

### 构建粒子
两种方式

```cpp
// first
G4Electron::ElectronDefinition();
G4Proton::ProtonDefinition();
G4Neutron::NeutronDefinition();
G4Gamma::GammaDefinition();

// second
G4BaryonConstructor bConstructor;
bConstructor.ConstructParticle();
```
### 构建过程
- For each particle, get its process manager

```cpp
G4ProcessManager *elManager = G4Electron::ElectronDefinition()->GetProcessManager();
```

- Construct all processes and register them

```cpp
elManager->AddProcess(new G4eMultipleScattering, -1, 1, 1);
elManager->AddProcess(new G4eIonisation, -1, 2, 2);
elManager->AddProcess(new G4eBremsstrahlung, -1, -1, 3);
elManager->AddDiscreteProcess(new G4StepLimiter)
```
