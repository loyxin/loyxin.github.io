---
layout: post
title:  "geant4 安装"
categories: geant4
tags:  geant4 模拟
author: loyxin
mathjax: true
---

* content
{:toc}

## 下载源文件
网站为:
[geant4下载](http://geant4.web.cern.ch/geant4/support/download.shtml)

linux：source files 一栏有一个 gU or linux tar format, 下载这个
记得下载所有的 data files
这些数据文件包括：
- G4ABLA.3.0.tar.gz
- G4NEUTRONXS.1.4.tar.gz
- G4SAIDDATA.1.1.tar.gz
- G4EMLOW.6.35.tar.gz
- G4PhotonEvaporation.3.0.tar.gz
- RealSurface.1.0.tar.gz
- G4ENSDFSTATE.1.0.tar.gz
- G4PII.1.3.tar.gz
- G4NDL.4.4.tar.gz
- G4RadioactiveDecay.4.0.tar.gz

版本名可能会发生改变,解压缩这些文件
```shell
for i in `ls *.gz'
do 
	tar -zxvf $i
done
```
## 编译安装
```shell
cd the path to source
mkdir build(the name you want)
cd build
cmake [options] ./the path to source
make -j4
make install
```
options 有一个安装路径要说明的 `DCMAKE_INSTALL_PREFIX=/projects/soft/ext/geant4.10.00.p02-install` 这样就会安装到`/projects/soft/ext`下新建一个`geant4.10.00.p02-install`文件夹

其他的`options` 查看 [geant4安装说明](http://geant4.web.cern.ch/geant4/support/userdocuments.shtml)

这里提供一个安装命令供参考
```
cmake -DCMAKE_INSTALL_PREFIX=~/program/geant4/install -DGEANT4_USE_GDML=ON  DGEANT4_USE_QT=ON -DGEANT4_USE_OPENGL_X11=ON -DGEANT4_USE_RAYTRACER_X11=ON  -DGEANT4_BUILD_MULTITHREADED=ON -DGEANT4_USE_XM=ON -DGEANT4_USE_X11=ON -DGEANT4_USE_SYSTEM_ZLIB=ON  ../geant4-10.3.1/
```
这里，我们通过**cmake**指定
- Geant4安装目录为**~/program/geant4/install**
- 启用了** GDML QT  XM OPENGL_X11 RAYTRACER_X11 X11 ZLIB**
- 启用**多线程模式**

`cmake` 编译出错，查看缺少什么库，上网查找安装，优先用系统自带的安装库

## 环境设置和 data 目录
```
source the path to install/share/Geant4.10.3/geant4make/geant4make.sh
```
说明一下**geant4.10.3**会随着版本号改变

data 的目录`the path to  install/share/Geant4.10.3/`
